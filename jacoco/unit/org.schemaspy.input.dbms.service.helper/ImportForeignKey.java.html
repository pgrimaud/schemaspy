<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ImportForeignKey.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">SchemaSpy</a> &gt; <a href="index.source.html" class="el_package">org.schemaspy.input.dbms.service.helper</a> &gt; <span class="el_source">ImportForeignKey.java</span></div><h1>ImportForeignKey.java</h1><pre class="source lang-java linenums">/*
 * Copyright (C) 2017 Rafal Kasa
 * Copyright (C) 2019 Nils Petzaell
 *
 * This file is part of SchemaSpy.
 *
 * SchemaSpy is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * SchemaSpy is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with Foobar. If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
package org.schemaspy.input.dbms.service.helper;

import java.sql.ResultSet;
import java.sql.SQLException;

/**
 * @author Rafal Kasa
 * @author Nils Petzaell
 */
public class ImportForeignKey {
    private final String fkName;
    private final String fkColumnName;
    private final String pkTableCat;
    private final String pkTableSchema;
    private final String pkTableName;
    private final String pkColumnName;
    private final Integer updateRule;
    private final Integer deleteRule;

<span class="fc" id="L39">    private ImportForeignKey(String fkName, String fkColumnName, String pkTableCat, String pkTableSchema, String pkTableName, String pkColumnName, Integer updateRule, Integer deleteRule) { //NOSONAR not publicly available</span>
<span class="fc" id="L40">        this.fkName = fkName;</span>
<span class="fc" id="L41">        this.fkColumnName = fkColumnName;</span>
<span class="fc" id="L42">        this.pkTableCat = pkTableCat;</span>
<span class="fc" id="L43">        this.pkTableSchema = pkTableSchema;</span>
<span class="fc" id="L44">        this.pkTableName = pkTableName;</span>
<span class="fc" id="L45">        this.pkColumnName = pkColumnName;</span>
<span class="fc" id="L46">        this.updateRule = updateRule;</span>
<span class="fc" id="L47">        this.deleteRule = deleteRule;</span>
<span class="fc" id="L48">    }</span>

    public String getFkName() {
<span class="fc" id="L51">        return fkName;</span>
    }

    public String getFkColumnName() {
<span class="fc" id="L55">        return fkColumnName;</span>
    }

    public String getPkTableCat() {
<span class="fc" id="L59">        return pkTableCat;</span>
    }

    public String getPkTableSchema() {
<span class="fc" id="L63">        return pkTableSchema;</span>
    }

    public String getPkTableName() {
<span class="fc" id="L67">        return pkTableName;</span>
    }

    public String getPkColumnName() {
<span class="fc" id="L71">        return pkColumnName;</span>
    }

    public Integer getUpdateRule() {
<span class="fc" id="L75">        return updateRule;</span>
    }

    public Integer getDeleteRule() {
<span class="fc" id="L79">        return deleteRule;</span>
    }

<span class="fc" id="L82">    public static class Builder {</span>
        private String fkName;
        private String fkColumnName;
        private String pkTableCat;
        private String pkTableSchema;
        private String pkTableName;
        private String pkColumnName;
        private Integer updateRule;
        private Integer deleteRule;

        public Builder fromImportKeysResultSet(ResultSet resultSet) throws SQLException {
<span class="fc" id="L93">            this.withFkName(resultSet.getString(&quot;FK_NAME&quot;))</span>
<span class="fc" id="L94">                    .withFkColumnName(resultSet.getString(&quot;FKCOLUMN_NAME&quot;))</span>
<span class="fc" id="L95">                    .withPkTableCat(resultSet.getString(&quot;PKTABLE_CAT&quot;))</span>
<span class="fc" id="L96">                    .withPkTableSchema(resultSet.getString(&quot;PKTABLE_SCHEM&quot;))</span>
<span class="fc" id="L97">                    .withPkTableName(resultSet.getString(&quot;PKTABLE_NAME&quot;))</span>
<span class="fc" id="L98">                    .withPkColumnName(resultSet.getString(&quot;PKCOLUMN_NAME&quot;))</span>
<span class="fc" id="L99">                    .withUpdateRule(resultSet.getInt(&quot;UPDATE_RULE&quot;))</span>
<span class="fc" id="L100">                    .withDeleteRule(resultSet.getInt(&quot;DELETE_RULE&quot;));</span>
<span class="fc" id="L101">            return this;</span>
        }

        public Builder withFkName(String fkName) {
<span class="fc" id="L105">            this.fkName = fkName;</span>
<span class="fc" id="L106">            return this;</span>
        }

        public Builder withFkColumnName(String fkColumnName) {
<span class="fc" id="L110">            this.fkColumnName = fkColumnName;</span>
<span class="fc" id="L111">            return this;</span>
        }

        public Builder withPkTableCat(String pkTableCat) {
<span class="fc" id="L115">            this.pkTableCat = pkTableCat;</span>
<span class="fc" id="L116">            return this;</span>
        }

        public Builder withPkTableSchema(String pkTableSchema) {
<span class="fc" id="L120">            this.pkTableSchema = pkTableSchema;</span>
<span class="fc" id="L121">            return this;</span>
        }

        public Builder withPkTableName(String pkTableName) {
<span class="fc" id="L125">            this.pkTableName = pkTableName;</span>
<span class="fc" id="L126">            return this;</span>
        }

        public Builder withPkColumnName(String pkColumnName) {
<span class="fc" id="L130">            this.pkColumnName = pkColumnName;</span>
<span class="fc" id="L131">            return this;</span>
        }

        public Builder withUpdateRule(Integer updateRule) {
<span class="fc" id="L135">            this.updateRule = updateRule;</span>
<span class="fc" id="L136">            return this;</span>
        }

        public Builder withDeleteRule(Integer deleteRule) {
<span class="fc" id="L140">            this.deleteRule = deleteRule;</span>
<span class="fc" id="L141">            return this;</span>
        }

        public ImportForeignKey build() {
<span class="fc" id="L145">            return new ImportForeignKey(fkName,fkColumnName, pkTableCat, pkTableSchema, pkTableName, pkColumnName, updateRule, deleteRule);</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.0.201801022044</span></div></body></html>